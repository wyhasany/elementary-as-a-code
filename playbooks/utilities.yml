- name: Utilities
  hosts: 127.0.0.1
  connection: local
  tasks:

  - name: Add UNetbootin Repository
    apt_repository:
      repo: ppa:gezakovacs/ppa
    become: true

  - name: Install Ubuntu packages
    apt: name="{{packages}}" state=present
    vars:
      packages:
      - cargo
      - tree
      - httpie
      # https://httpie.org/
      - tldr
      - python
      - python-pip
      - python3
      - python3-pip
      - file-roller
      - audacity
      - bleachbit
      - dconf-editor
      - baobab
      - gnome-font-viewer
      - gnome-disk-utility
      - gnome-system-monitor
      - gnome-power-manager
      - gnome-tweak-tool
      - gdebi-core
      - gparted
      - htop
      # For network issues debugging
      - iptraf
      - iftop
      - menulibre
      - pinta
      - pulseaudio
      - remmina
      - transmission
      - vlc
      - unetbootin
      - unace
      - rar
      - unrar
      - p7zip-rar
      - p7zip
      - sharutils
      - uudeview
      - mpack
      - arj
      - cabextract
      - lzip
      - lunzip
      - shutter
    become: true

  - name: install exa if its binary does not exists
    stat:
      path: "exa.executed"
    register: exaExecuted

  - name: Install exa with cargo package manager
    shell: "cargo install exa && touch exa.executed"
    when: not exaExecuted.stat.exists